<h1>List of Authors</h1>

<table>
{{form_start(form)}}
    <tr>
        <td>{{form_label(form.minNumber,"Min Number")}}</td>
        <td>{{form_widget(form.minNumber)}}</td>
        <td>{{form_label(form.maxNumber,"Max Number")}}</td>
        <td>{{form_widget(form.maxNumber)}}</td>
        <td>{{form_row(form.search)}}</td>
    </tr>

    {{form(form)}}
</table>
<table border=1>
    <tr>
        <td>id</td>
        {#<td>picture</td>#}
        <td>username</td>
        <td>email</td>
        <td>nb_books</td>
        {#<td>Détails</td>#}
        <td>Actions</td>
    </tr>
    {%set totalBooks=0%}
    {%for a in authors %}
    <tr>
        <td>{{a.id}}</td>
        {#<td><img src="{{a.picture }}" width="100"></td>#}
        <td>{{a.username|upper}}</td>
        <td>{{a.email}}</td>
        <td>{{a.getNbBooks}}</td>
        {#<td><a href="{{ path('showbyid', { 'id': a.id }) }}">Détails</a></td>#}
        <td>
            <a href="{{path('update_author', {'id': a.id})}}">Edit</a>
            <a href="{{path('delete_author', {'id': a.id})}}">Delete</a>
            <a href="{{path('show_author', {'id': a.id})}}">Show</a>
        </td>
    </tr>
    {#%set totalBooks=totalBooks+a.nb_books%#}
    {%endfor%}
    {%if authors is empty%}
        <tr><td colspan="7" align="center">No Authors Found</td></tr>
    {%endif%}
   {#<tr> 
        <td colspan="5" container="center" style="text-align: center;">On a {{authors|length}} auteurs et {{totalBooks}} livres</td>
    </tr>#}
</table>
<a href="{{ path('create_author') }}">Add new author</a><br>
<a href="{{ path('all_books') }}">Go to all books list</a><br>
<a href="{{ path('delete_authors_with_no_books') }}">Delete all authors with no books</a>

